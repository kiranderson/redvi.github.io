<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Обзор debian 7 | Заметки на полях</title>
    <meta name="description" content="Ностальгия по deb-based и неочевидые минусы debian">
    <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/favicon.ico">
  <meta name="theme-color" content="#46bd87">
    
    <link rel="preload" href="/assets/css/0.styles.4993531b.css" as="style"><link rel="preload" href="/assets/js/app.6e4996bc.js" as="script"><link rel="preload" href="/assets/js/4.11d3a3db.js" as="script"><link rel="preload" href="/assets/js/6.58fecefc.js" as="script"><link rel="preload" href="/assets/js/28.785693ad.js" as="script"><link rel="prefetch" href="/assets/js/10.23d584b0.js"><link rel="prefetch" href="/assets/js/11.7e9fc27e.js"><link rel="prefetch" href="/assets/js/12.778cebda.js"><link rel="prefetch" href="/assets/js/13.f9a0865b.js"><link rel="prefetch" href="/assets/js/14.7e9142f5.js"><link rel="prefetch" href="/assets/js/15.81a256d2.js"><link rel="prefetch" href="/assets/js/16.49af5ffe.js"><link rel="prefetch" href="/assets/js/17.b44ee3ae.js"><link rel="prefetch" href="/assets/js/18.5aee35b6.js"><link rel="prefetch" href="/assets/js/19.0db9aae5.js"><link rel="prefetch" href="/assets/js/2.35b2c6bb.js"><link rel="prefetch" href="/assets/js/20.dd2ea1cb.js"><link rel="prefetch" href="/assets/js/21.393c5d86.js"><link rel="prefetch" href="/assets/js/22.56cf0890.js"><link rel="prefetch" href="/assets/js/23.155f85b8.js"><link rel="prefetch" href="/assets/js/24.b74b7cb5.js"><link rel="prefetch" href="/assets/js/25.eae2d23b.js"><link rel="prefetch" href="/assets/js/26.036b3a68.js"><link rel="prefetch" href="/assets/js/27.375f2bdb.js"><link rel="prefetch" href="/assets/js/29.11833701.js"><link rel="prefetch" href="/assets/js/3.a76664f0.js"><link rel="prefetch" href="/assets/js/30.6ecf91ca.js"><link rel="prefetch" href="/assets/js/31.5227900f.js"><link rel="prefetch" href="/assets/js/32.c60ace8f.js"><link rel="prefetch" href="/assets/js/33.b41a62d6.js"><link rel="prefetch" href="/assets/js/34.de1eca42.js"><link rel="prefetch" href="/assets/js/35.6640f8d9.js"><link rel="prefetch" href="/assets/js/36.5ae9284d.js"><link rel="prefetch" href="/assets/js/37.3bd95024.js"><link rel="prefetch" href="/assets/js/38.b492b55b.js"><link rel="prefetch" href="/assets/js/39.217589d9.js"><link rel="prefetch" href="/assets/js/40.f390632a.js"><link rel="prefetch" href="/assets/js/41.2a87ce19.js"><link rel="prefetch" href="/assets/js/42.0078f9a2.js"><link rel="prefetch" href="/assets/js/43.305a1d21.js"><link rel="prefetch" href="/assets/js/44.d68d09d3.js"><link rel="prefetch" href="/assets/js/45.725969ad.js"><link rel="prefetch" href="/assets/js/46.5006191f.js"><link rel="prefetch" href="/assets/js/47.02f0ac47.js"><link rel="prefetch" href="/assets/js/48.a1479944.js"><link rel="prefetch" href="/assets/js/49.f202290e.js"><link rel="prefetch" href="/assets/js/5.260a7e1b.js"><link rel="prefetch" href="/assets/js/50.d4cc05c9.js"><link rel="prefetch" href="/assets/js/51.351e60fc.js"><link rel="prefetch" href="/assets/js/52.2d05f9b0.js"><link rel="prefetch" href="/assets/js/53.bff13ad2.js"><link rel="prefetch" href="/assets/js/54.25ee54c4.js"><link rel="prefetch" href="/assets/js/55.9fe9e953.js"><link rel="prefetch" href="/assets/js/56.96ba4927.js"><link rel="prefetch" href="/assets/js/57.4e35a560.js"><link rel="prefetch" href="/assets/js/58.ae2210a1.js"><link rel="prefetch" href="/assets/js/59.8a325a55.js"><link rel="prefetch" href="/assets/js/60.16b2173a.js"><link rel="prefetch" href="/assets/js/61.9d2a0001.js"><link rel="prefetch" href="/assets/js/62.f563cd8e.js"><link rel="prefetch" href="/assets/js/63.1a72cc0f.js"><link rel="prefetch" href="/assets/js/64.e88ea223.js"><link rel="prefetch" href="/assets/js/65.13f19506.js"><link rel="prefetch" href="/assets/js/66.8c2e411f.js"><link rel="prefetch" href="/assets/js/67.f44e0d12.js"><link rel="prefetch" href="/assets/js/68.ea7ddfd9.js"><link rel="prefetch" href="/assets/js/69.b35d4c71.js"><link rel="prefetch" href="/assets/js/7.28b8ec71.js"><link rel="prefetch" href="/assets/js/70.11072557.js"><link rel="prefetch" href="/assets/js/71.17ae261d.js"><link rel="prefetch" href="/assets/js/8.42c742f4.js"><link rel="prefetch" href="/assets/js/9.3db5d928.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4993531b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="common common--light"><header class="header" data-v-32223a35><a href="/" aria-label="menu" class="hamburger" data-v-7ac966a8><div class="line-h" data-v-7ac966a8></div> <div class="text-wrap" data-v-7ac966a8></div> <svg width="42px" height="42px" viewBox="0 0 42 42" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" data-v-7ac966a8><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-7ac966a8><path id="square" stroke="#000000" width="41" height="41" d="M0.5 0.5 L41.5 0.5 L41.5 41.5 L0.5 41.5 Z" class="bz" data-v-7ac966a8></path></g></svg> <div class="line-h" data-v-7ac966a8></div></a></header> <main class="page content"><article><h1>Debian 7 или Какого лешего</h1> <div class="content__default"><p>Debian — первый серьёзный дистрибутив автора, тёплая и нежная дружба с которым
длилась достаточно долго, до перехода на archlinux. Помнится, просидев на Ubuntu
пару месяцев и смекнув, что с этим дистрибутивом ничему толком не научишься
(ибо не способствует он получению новых знаний в освоении linux — слишком
дружелюбен и услужлив, с ним даже не приходится знать, что такое консоль),
зимой 2009 года на домашний компьютер было решено поставить Debian. Много
воды утекло с тех пор, много дистрибутивов было испробовано и теперь, после
выхода Debian Wheezy, захотелось снова взглянуть на старого друга... да не тут-то было.
Впечатления он оставил, прямо-таки скажем, неоднозначные.</p> <p>Действия по загрузке и установке дистрибутива можно найти на множестве ресурсов также, как и статьи о вопросе <a href="/posts/acpi/">настройке энергопотребления</a>. Ничего кардинально нового замечено не было, поэтому начнём с экрана приветствия. По ходу установки из трёх возможных графических сред был выбран xfce, который и встретил своим нерусифицированным хмурым лицом. Вбив логин и пароль, оставалось только войти в систему и воскликнуть: «Какого лешего?». Отсутствие русификации, отвратительные шрифты, невозможность установить некоторые полюбившиеся уже приложения и предложение довольствоваться их устаревшими аналогами... много любопытного поджидает путешественников в мир Debian. Упёртость не позволила бросить дистрибутив. Оставить же его в виде «как есть» не позволила совесть.</p> <h2 id="шаг-первый-замена-ядра"><a href="#шаг-первый-замена-ядра" aria-hidden="true" class="header-anchor">#</a> Шаг первый: замена ядра</h2> <p>Прежде всего следовало разобраться с ядром, в котором мало того, что не
была использована возможность переключения между видеокартами, так она вообще
ещё не поддерживалась: версия ядра 3.2. Выйти из положения можно двумя способами:
либо установить свежее дистрибутивное ядро (с патчами от разработчиков самого debian),
либо собрать ванильное.</p> <p>Сначала приводистя пример установки ядра из backports (хотя нет, и там тухло)
или лучше из  experimental — единственной ветки, где имеется софт без бороды.
Подключаем один из последних двух репозиториев:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># /etc/apt/source.list</span>

deb http://debian.nsu.ru/debian/ wheezy main non-free contrib
deb-src http://debian.nsu.ru/debian/ wheezy main non-free contrib
deb http://security.debian.org/ wheezy/updates main contrib non-free
deb-src http://security.debian.org/ wheezy/updates main contrib non-free
deb http://ftp.debian.org/debian/ wheezy-backports main
deb http://ftp.debian.org/debian experimental main
</code></pre></div><p>Даём debian'у сигнал о том, что список репозиториев обновился</p> <div class="language- extra-class"><pre class="language-text"><code># aptitude update
</code></pre></div><p>Ставим свежее ядро. В примере из ветки experimental:</p> <div class="language- extra-class"><pre class="language-text"><code># aptitude search linux-image
# apt-get -t experimental install linux-image-3.8
</code></pre></div><p>Следующий метод предназначен для тех, кто как и автор поста, плюнув на ядра
дистрибутива, захочет отправится в путь за ванильным ядром на kernel.org.
Как это оговаривалось уже не раз в других заметках, нужно скачать последнюю
стабильную версию ядра и распаковать её в <code>/usr/src</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>$ wget -c http://kernel.org/pub/linux/kernel/v3.x/linux-3.8.11.tar.xz
# mv linux-3.8.11.tar.xz /usr/src
# tar xvf linux-3.8.11.tar.xz
</code></pre></div><p>После чего собрать ядро с нужными параметрами и дать команду на сборку и установку самого ядра, а также всех его модулей:</p> <div class="language- extra-class"><pre class="language-text"><code># make menuconfig
# make bzImage modules modules_install install
</code></pre></div><p>В результате в <code>/boot</code> разделе должно появиться ядро с указанной версией и его загрузочный образ (initrd). Дебиан даже потрудился перконфигурировать настройки загрузчика grub2, найдя и включив новое ядро в список. Впрочем, вышеуказанные действия легко выполнить и вручную, сгенерировать образ и обновить настройки загрузчика можно двумя соответствующими командами:</p> <div class="language- extra-class"><pre class="language-text"><code># mkinitramfs -o /boot/initrd-3.8.11
# grub-mkconfig -o /boot/grub/grub.cfg
</code></pre></div><p><img src="data:image/png;base64,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" alt="grub-mkconfig"></p> <p>Чтобы добиться искомого результата (отключить дискретное видео), нужно сделать ещё несколько телодвижений:</p> <p><code>1.</code> Убедиться, что установлен драйвер видеокарты, применительно к intel выглядит так:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">aptitude</span> search intel
i A libdrm-intel i A xserver-xorg-video-intel
</code></pre></div><p>Если установленных пакетов не найдено, доустановить их.</p> <p><code>2.</code> Установить <code>linux-firmware-nonfree</code></p> <p><code>3.</code> Добавить debugfs в <code>/ets/fstab</code></p> <div class="language- extra-class"><pre class="language-text"><code>none  /sys/kernel/debug debugfs defaults 0 0
</code></pre></div><p><code>4.</code> Добавить скрипт в <code>/etc/rc.local</code>, вот так:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># By default this script does nothing</span>
<span class="token builtin class-name">echo</span> OFF <span class="token operator">&gt;</span> /sys/kernel/debug/vgaswitcheroo/switch
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre></div><h2 id="шаг-второй-русификация-интерфейса-настройки-ввода"><a href="#шаг-второй-русификация-интерфейса-настройки-ввода" aria-hidden="true" class="header-anchor">#</a> Шаг второй: русификация интерфейса, настройки ввода</h2> <p>Русификация всего и вся проходит быстро и безболезненно внесением одной лишь записи в <code>/etc/default/locale</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span><span class="token string">&quot;ru_RU.UTF-8&quot;</span>
</code></pre></div><p>Следуя какой-то своей особой логике, Debian предлагает выбор русского языка при установке, но это никоим образом не отражается на практике: что ж, русифицируем самостоятельно.</p> <p>Раскладки клавиатуры также не предлагают того, что хочется — не беда. Сделаем переключение через <code>Alt + Shift</code> , да чтобы раскладку было видно по индикатору <code>Caps Lock</code>.</p> <p><img src="/assets/img/layout.jpg" alt="layout"></p> <p>Настройка раскладки клавиатуры, поведения тачпада... мелочи жизни:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># /etc/X11/xorg.conf.d/10-evdev.conf</span>
<span class="token comment">#</span>
Section <span class="token string">&quot;InputClass&quot;</span>
    Identifier <span class="token string">&quot;evdev keyboard catchall&quot;</span>
    MatchIsKeyboard <span class="token string">&quot;on&quot;</span>
    MatchDevicePath <span class="token string">&quot;/dev/input/event*&quot;</span>
Driver <span class="token string">&quot;evdev&quot;</span> EndSection


<span class="token comment"># /etc/X11/xorg.conf.d/20-keyboard-layout.conf</span>
<span class="token comment">#</span>
Section <span class="token string">&quot;InputClass&quot;</span>
    Identifier <span class="token string">&quot;Keyboard Defaults&quot;</span>
    MatchIsKeyboard <span class="token string">&quot;yes&quot;</span>
    Option <span class="token string">&quot;XkbLayout&quot;</span> <span class="token string">&quot;us,ru&quot;</span>
    Option <span class="token string">&quot;XkbOptions&quot;</span> <span class="token string">&quot;grp:alt_shift_toggle, grp_led:caps&quot;</span>
EndSection

<span class="token comment"># /etc/X11/xorg.conf.d/50-synaptics.conf</span>
<span class="token comment">#</span>
Section <span class="token string">&quot;InputClass&quot;</span>
    Identifier <span class="token string">&quot;touchpad catchall&quot;</span>
    Driver <span class="token string">&quot;synaptics&quot;</span>
    MatchIsTouchpad <span class="token string">&quot;on&quot;</span>
    Option <span class="token string">&quot;TapButton1&quot;</span> <span class="token string">&quot;1&quot;</span>
    Option <span class="token string">&quot;TapButton2&quot;</span> <span class="token string">&quot;2&quot;</span>
    Option <span class="token string">&quot;TapButton3&quot;</span> <span class="token string">&quot;3&quot;</span>
    Option <span class="token string">&quot;VertEdgeScroll&quot;</span> <span class="token string">&quot;on&quot;</span>
    Option <span class="token string">&quot;VertTwoFingerScroll&quot;</span> <span class="token string">&quot;on&quot;</span>
    Option <span class="token string">&quot;HorizEdgeScroll&quot;</span> <span class="token string">&quot;on&quot;</span>
    Option <span class="token string">&quot;HorizTwoFingerScroll&quot;</span> <span class="token string">&quot;on&quot;</span>
    Option <span class="token string">&quot;CircularScrolling&quot;</span> <span class="token string">&quot;on&quot;</span>
    Option <span class="token string">&quot;CircScrollTrigger&quot;</span> <span class="token string">&quot;2&quot;</span>
    Option <span class="token string">&quot;EmulateTwoFingerMinZ&quot;</span> <span class="token string">&quot;40&quot;</span>
    Option <span class="token string">&quot;EmulateTwoFingerMinW&quot;</span> <span class="token string">&quot;8&quot;</span>
    Option <span class="token string">&quot;CoastingSpeed&quot;</span> <span class="token string">&quot;0&quot;</span>
    MatchDevicePath <span class="token string">&quot;/dev/input/event*&quot;</span>
EndSection
    Section <span class="token string">&quot;InputClass&quot;</span>
    Identifier <span class="token string">&quot;touchpad ignore duplicates&quot;</span>
    MatchIsTouchpad <span class="token string">&quot;on&quot;</span>
    MatchOS <span class="token string">&quot;Linux&quot;</span>
    MatchDevicePath <span class="token string">&quot;/dev/input/mouse*&quot;</span>
    Option <span class="token string">&quot;Ignore&quot;</span> <span class="token string">&quot;on&quot;</span>
EndSection
    Section <span class="token string">&quot;InputClass&quot;</span>
    Identifier <span class="token string">&quot;Default clickpad buttons&quot;</span>
    MatchDriver <span class="token string">&quot;synaptics&quot;</span>
    Option <span class="token string">&quot;SoftButtonAreas&quot;</span> <span class="token string">&quot;50% 0 82% 0 0 0 0 0&quot;</span>
EndSection
</code></pre></div><h2 id="шаг-третий-настройка-шрифтов"><a href="#шаг-третий-настройка-шрифтов" aria-hidden="true" class="header-anchor">#</a> Шаг третий: настройка шрифтов</h2> <p>Ни в одной другой ОС не доведётся неискушённому пользователю видеть такое ужасающее отображение шрифта как в Debian. Вообще, надо сказать, что шрифты были и во многом остаются главной проблемой всех linux-дистрибутивов. В последнее время исправить это досадное недоразумение призван патч infinality, который действительно может невозможное.</p> <p>В debian имеется «куцая» утилита для настройки отображения шрифта. Возможности её довольно скудны. Для сравнения в gentoo при помощи eselect можно сделать намного-намного больше.</p> <p>gentoo</p> <p><img src="/assets/img/eselect_infinality.png" alt="gentoo"></p> <p>debian</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> dpkg-reconfigure fontconfig-config
</code></pre></div><p><img src="/assets/img/fontconfig.png" alt="autohinter"></p> <p><img src="/assets/img/fontconfig2.png" alt="fontconfig"></p> <p><img src="/assets/img/fontconfig3.png" alt="font-zoom"></p> <p>Шрифт в Debian изначально не имеет сглаживания и выглядит разряженным. Настройки <code>.fonts.conf</code> уверенности в светлом будущем не прибавляют: либо шрифт тонкий и зазубренный как в Windows, либо просто «мыло» даже с выставленным параметром <code>rgba - none</code>.</p> <p>Ситуация немного улучшается для обычных шрифтов при использовании <a href="http://forums.debian.net/viewtopic.php?f=16&amp;t=88545" target="_blank" rel="noopener noreferrer">infinality<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, но шрифт семейства monospace с небольшим кеглем представляет собой всё то же мыло в отличие от эффекта того же infinality в gentoo.</p> <p>Может быть, знающие линуксоиды наставят автора на путь истинный и укажут наиболее простое и красивое решение указанной проблемы. Всех, у кого есть здравые мысли на этот счёт, прошу выразить свою критику и негодование вместе с примерами настройки в комментариях. Но, сдаётся мне, без наложения патчей от Убунты здесь не обойтись.</p> <h2 id="шаг-четвёртый-автозапуск"><a href="#шаг-четвёртый-автозапуск" aria-hidden="true" class="header-anchor">#</a> Шаг четвёртый: автозапуск</h2> <p>Автор придерживается убеждения, что хороший дистрибутив не тот, который думает за пользователя, но тот, что даёт пользователю право выбора и право быть самодержцем в своей операционной системе. Такой дистибутив по определению должен быть прозрачен как слеза младенца и делать только то, что ему указано — ничего сверх этого. Наш друг Дебиан мало того, что славится своей устрашающей системой инициализации, так ещё и, с позволения сказать, шкодничает. При установке какого-либо демона он автоматически помещает его в автозапуск, чего хороший дистрибутив делать не станет. В итоге при инициализации системы происходит и запуск всех демонов, большинство из которых совершенно не нужны в повседневной работе. Таким образом, дабы система загружалась быстрее и поглощала меньше ресурсов, надобно всё лишнее поотключать.</p> <p>Для этого нужно просмотреть список автозагрузки и выдернуть из него лишний хлам. Первое можно сделать, просмотрев содержимое каталога <code>/etc/init.d</code> либо используя утилиту <code>chkconfig</code>:</p> <p><img src="/assets/img/chkconfig-debian.png" alt="chkconfig"></p> <p>Удалить из автозапуска: <code># update-rc.d -f cups remove</code> или <code># insserv -r cups (≥ debian 6)</code>, где <code>cups</code> — искомый демон.</p> <p>Команда добавления в автозапуск, которая вряд ли когда-либо понадобится ввиду излишней интеллектуальности Дебиана:</p> <div class="language- extra-class"><pre class="language-text"><code># update-rc.d cups defaults # или insserv cups defaults (≥ debian 6)
</code></pre></div><h2 id="прочее"><a href="#прочее" aria-hidden="true" class="header-anchor">#</a> Прочее</h2> <p>Также были отмечены некоторые странности как то: в процессе установки была выбрана возможность входа от суперпользователя. Тем не менее, Debian не предложил создать для него пароль и при входе в систему рут оказался беспарольным. Разумеется, это тоже не представляет большой проблемы и исправляется командой <code>passwd</code>.</p> <p>К странностям новой версии можно отнести добродушное пожелание ОС напоминать о выходе новой версии... Ubuntu. Но, скажите, какого лешего?</p> <p><img src="/assets/img/ubuntu_in_debian.png" alt="ubuntu in debian"></p> <p>С xfce сдружиться не получилось. В конечном варианте остался <a href="/posts/openbox/">openbox</a>, благодяря которому рабочий стол приобрёл приятный и в то же время минималистичный вид.</p> <p><img src="/assets/img/debi_openbox.png" alt="debian openbox"></p> <p>«Умолчательные» приложения не вдохновляют на совершение трудовых подвигов. Из нужного автору в огромном стандартном репозитории Debian'a не нашлось места для <code>spacefm, compton, sublime text 2</code>. Так на кой чёрт мне репозиторий в 37.000 пакетов, если в нём нет нескольких горячо любимых программ?</p> <h2 id="подведение-итогов"><a href="#подведение-итогов" aria-hidden="true" class="header-anchor">#</a> Подведение итогов</h2> <p>Собственно, зачем это всё затевалось? Во-первых, появилось желание одним глазком посмотреть на любимый когда-то дистрибутив. Во-вторых, возникла надобность поставить на внешний диск надёжную рабочую лошадку, не требующую ухода (таково моё мнение о Debain в целом). Надо также отметить, что данный пост, скорее всего, будет последним касающимся установки/настройки дистрибутива, если только автору не взбредёт в голову поставить Slackware Linux. Оставшиеся самобытные ОС — Gentoo, Archlinux — уже были рассмотрены ранее, иные же являются лишь их потомками, зачастую имеют простой графический установщик и мало чем отличаются в настройке.</p> <p>Претензии к Wheezy:</p> <ul><li>удручающе <em>старый софт</em> (прежде всего версия ядра)</li> <li>невозможно без слёз смотреть на <em>шрифт</em></li> <li>на то, что пользователи «красноглазых» дистрибутивов настраивают с пол-оборота, в дебиане приходится потратить <em>изрядное количество времени</em></li> <li>нет <em>привычных проверенных программ</em>, которые широко используются в подавляющем большинстве дистрибутивов</li> <li>система считает себя <em>умнее хозяина</em> (одна из причин, почему так много дружелюбных к пользователю дистрибутивов основано на Дебиане)</li></ul> <p>Итог: ностальгия быстро улетучилась, Дебиан остался на внешнем жёстком диске в качестве запасной рабочей лошадки и бэкап-хранилища для <code>/home</code> каталога.</p></div> <div class="tags" data-v-1c67afbc><span data-v-1c67afbc>2013</span> 

  <a href="/?tag=linux" data-v-1c67afbc>
    linux
  </a></div> <div class="prev-next" data-v-326f747b><div class="prev-next__prev" data-v-326f747b><a href="/posts/title-latex/" data-v-326f747b>
      Несколько интересных способов оформления глав в LaTeX
    </a></div> <div class="prev-next__between" data-v-326f747b>⤧</div> <div class="prev-next__next" data-v-326f747b><a href="/posts/achilles/" data-v-326f747b>
      «Ахиллесова пята» Samsung Galaxy
    </a></div></div> <!----></article></main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.6e4996bc.js" defer></script><script src="/assets/js/4.11d3a3db.js" defer></script><script src="/assets/js/6.58fecefc.js" defer></script><script src="/assets/js/28.785693ad.js" defer></script>
  </body>
</html>
