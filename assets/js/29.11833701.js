(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{105:function(t,s,a){t.exports=a.p+"assets/img/django1.jpg"},106:function(t,s,a){t.exports=a.p+"assets/img/django2.png"},195:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("Не правда ли, было бы любопытно опробовать знаменитый фреймворк\nDjango для создания сайтов разной степени сложности? Если вам по душе\nузнавать что-то новое или вы по каким-либо причинам решили отказаться от\nразработки на PHP — Django как раз то, что вам нужно. В сегодняшнем посте\nбудут оговорены элементарные, но такие необходимые вещи: создание проекта\nи приложения, модели и отображения, шаблонов с использованием стандартных\nфильтров. Не исключено, что автор продолжит начатую тему и в последующем\nбудет опубликован ряд постов об этом популярном фреймворке.")]),t._v(" "),n("p",[t._v("Далее предполагается, что у читателя установлен "),n("code",[t._v("Python3")]),t._v(" и "),n("code",[t._v("Django >=1.5")]),t._v(": именно\nна них рассчитаны наши последующие телодвижения. Устанавливать необходимые\nдля конкретного проекта приложения лучше используя virtualenw и pip.\nТак вы сможете избавить себя от чтения руководств по установке и захламления системных файлов.")]),t._v(" "),n("h2",{attrs:{id:"создание-проекта-и-приnожения"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#создание-проекта-и-приnожения","aria-hidden":"true"}},[t._v("#")]),t._v(" Создание проекта и приложения")]),t._v(" "),n("p",[t._v("Проект — основной каталог, где будут располагаться те или иные приложения,\nтакже проект содержит основные настройки будущего сайта. Создадим корневой\nкаталог для проекта и сам проект:")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" djcode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" djcode\n$ django-admin.py startproject pySite\n")])])]),n("p",[t._v("Просмортим появившиеся каталоги:")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("$ tree pySite\npySite\n├── manage.py\n└── pySite\n    ├── __init__.py\n    ├── settings.py\n    ├── urls.py\n    └── wsgi.py\n")])])]),n("p",[t._v("Вкратце:")]),t._v(" "),n("p",[n("code",[t._v("manage.py")]),t._v(" — отвечает за управление проектом, например, командой "),n("code",[t._v("python manage.py runserver")]),t._v(" можно запустить сервер для тестовой разработки.")]),t._v(" "),n("p",[n("code",[t._v("__init__.py")]),t._v(" — нужен для того, чтобы python рассматривал каталог "),n("code",[t._v("pySite")]),t._v(" как пакет.")]),t._v(" "),n("p",[n("code",[t._v("settings.py")]),t._v(" — файл настроек проекта: настройки языка, часового пояса, соединения с базой данных, подключаемых приложений и прочего.")]),t._v(" "),n("p",[n("code",[t._v("urls.py")]),t._v(" — настройки URL-адресов для сайта")]),t._v(" "),n("p",[n("code",[t._v("wsgi.py")]),t._v(" — конфигурация модуля "),n("code",[t._v("wsgi")]),t._v(" для веб-сервера")]),t._v(" "),n("p",[t._v("Хорошо, когда проект расширяемый. Ещё лучше, если его легко сопровождать. Оба этих условия выполняются в Django. Чтобы расширить функционал сайта, следует создать для него какое-либо приложение: галерею, форум, блоги. Затем лишь подключить его в "),n("code",[t._v("settings.py")]),t._v(" и подправить свой "),n("code",[t._v("urls.py")]),t._v(", дабы при переходе по определённому адресу пользователь перенаправлялся к страницам приложения. Поэтому давайте создадим какое-нибудь приложение. Пусть оно отвечает за публикацию новостей и хранится в том же каталоге, что и основной проект.")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("$ django-admin.py startapp news\n$ tree pySite\npySite\n|-- pySite\n|   |-- __init__.py\n|   |-- settings.py\n|   |-- urls.py\n|   |-- views.py\n|   `-- wsgi.py\n|-- manage.py\n|-- news\n|   |-- admin.py\n|   |-- __init__.py\n|   |-- models.py\n|   |-- tests.py\n|   |-- urls.py\n|   `-- views.py\n")])])]),n("p",[t._v("Вкратце:")]),t._v(" "),n("p",[n("code",[t._v("models.py")]),t._v(" — файл для взаимодействия с базой данных")]),t._v(" "),n("p",[n("code",[t._v("urls.py")]),t._v(" — отдельный файл url'ов. Он может быть пустым, если вы решите использовать для всех адресов "),n("code",[t._v("urls.py")]),t._v(" проекта")]),t._v(" "),n("p",[n("code",[t._v("admin.py")]),t._v(" — создаётся вручную, нужен исключительно для удобства: настройка отображения моделей в административной панели")]),t._v(" "),n("p",[n("code",[t._v("views.py")]),t._v(" — самое интересное, управляет логикой приложения")]),t._v(" "),n("p",[t._v("С приложением определились. Отлично! Пора браться за настройки.")]),t._v(" "),n("h2",{attrs:{id:"настройки-дnя-сайта"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#настройки-дnя-сайта","aria-hidden":"true"}},[t._v("#")]),t._v(" Настройки для сайта")]),t._v(" "),n("p",[t._v("Заглянем в файл "),n("code",[t._v("settings.py")]),t._v(" и настроим его под свои скромные пока нужды.")]),t._v(" "),n("p",[n("code",[t._v("PROJECT_PATH")]),t._v(" — указание на то, где Django нужно искать корень проекта. Лучше использовать запись, приведённую ниже, чем писать полный путь вроде "),n("code",[t._v("~/home/user/djcode/pySite")]),t._v(".")]),t._v(" "),n("p",[n("code",[t._v("DEBUG = True")]),t._v(" — отладка влючена, Django будет выводить информативные сообщения об ошибках.")]),t._v(" "),n("p",[n("code",[t._v("DATABASES")]),t._v(" — настройки для вашей базы данных. В примере это "),n("code",[t._v("sqlite3")]),t._v(", который не требует особого к себе отношения, но и полноценной базой данных для сайта на production-сервере быть не может. Чтобы использовать "),n("code",[t._v("sqlite3")]),t._v(", достаточно создать в директории проекта файл "),n("code",[t._v("sqlite.db")]),t._v(".")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" abspath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" join"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dirname\n\nPROJECT_PATH "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" abspath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("join"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__file__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'..'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nDEBUG "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("\nDATABASES "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'default'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ENGINE'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.db.backends.sqlite3'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'NAME'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  join"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PROJECT_PATH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sqlite.db'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'USER'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PASSWORD'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HOST'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PORT'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("Идём дальше. Желательно сразу создать и подключить директорию, где будет храниться статика: css, javascript и изображения.\nКроме того, нам понадобится директория под наши html-файлы.")]),t._v(" "),n("p",[n("code",[t._v("STATIC_URL")]),t._v(" — относительный url для статики")]),t._v(" "),n("p",[n("code",[t._v("STATICFILES_DIRS")]),t._v(" — директория, где расположены соответствующие файлы")]),t._v(" "),n("p",[n("code",[t._v("TEMPLATE_LOADERS")]),t._v(" — модули для работы с шаблонами")]),t._v(" "),n("p",[n("code",[t._v("TEMPLATE_DIRS")]),t._v(" — указание на директорию, где лежат html-шаблоны")]),t._v(" "),n("p",[n("code",[t._v("ROOT_URLCONF")]),t._v(" — главный файл url'ов")]),t._v(" "),n("p",[n("code",[t._v("INSTALLED_APPS")]),t._v(" — подключенные приложения, вниз добавим наш news.")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[t._v("STATIC_URL "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/static/'")]),t._v("\nSTATICFILES_DIRS "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("join"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PROJECT_PATH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'static'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nTEMPLATE_LOADERS "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.template.loaders.filesystem.Loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.template.loaders.app_directories.Loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nROOT_URLCONF "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pySite.urls'")]),t._v("\nTEMPLATE_DIRS "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    join"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PROJECT_PATH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'templates'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nINSTALLED_APPS "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.contrib.auth'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.contrib.contenttypes'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.contrib.sessions'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.contrib.sites'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.contrib.messages'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.contrib.staticfiles'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.contrib.admin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("Теперь можно проверить сайт на работоспособность. Для этого, находясь в директории с "),n("code",[t._v("manage.py")]),t._v(" следует ввести команду:")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ python manage.py syncdb\n$ python manage.py runserver\n")])])]),n("p",[t._v("Первая команда создаст записи в базе данных и предложит создать суперпользователя, если вы подключили приложение административной панели, вторая — запустит тестовый сервер разработки.")]),t._v(" "),n("p",[t._v("По адресу "),n("code",[t._v("127.0.0.1:8000/")]),t._v(" должно появиться стандартное окно приветствия Django.")]),t._v(" "),n("h2",{attrs:{id:"создание-модеnи-и-представnения-конфигурация-urls-py"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#создание-модеnи-и-представnения-конфигурация-urls-py","aria-hidden":"true"}},[t._v("#")]),t._v(" Создание модели и представления, конфигурация "),n("code",[t._v("urls.py")])]),t._v(" "),n("p",[t._v("Следующим шагом будет настройка моделей для взаимодействия с БД, создание представления (логика приложения), настройка файла "),n("code",[t._v("urls.py")]),t._v(".")]),t._v(" "),n("p",[t._v("В примере ниже создаётся класс "),n("code",[t._v("Post")]),t._v(", подкласс абстрактного класса "),n("code",[t._v("models.Model")]),t._v(". Мы хотим видеть у нашего поста название ("),n("code",[t._v("title")]),t._v("), его тело ("),n("code",[t._v("body")]),t._v("), дату создания ("),n("code",[t._v("timestamp")]),t._v(") и автора ("),n("code",[t._v("author")]),t._v("). Обратите внимание на "),n("code",[t._v("models.*Field")]),t._v(". Каждая модель соответствует указанному полю.")]),t._v(" "),n("p",[t._v("Так, "),n("code",[t._v("models.CharField")]),t._v(" выведет несколько символов, максимальное их значение 150, этого должно хватить для названия;")]),t._v(" "),n("p",[n("code",[t._v("models.TextField")]),t._v(" позволит вводить неограниченное число символов: полноценный текст;")]),t._v(" "),n("p",[n("code",[t._v("models.ForeignKey")]),t._v(" указывает на то, что у поста может быть один автор.")]),t._v(" "),n("p",[t._v("Эти таблицы будут созданы в базе данных при синхронизации.")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ~/djcode/pySite/news/models.py")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" models\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contrib "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" admin\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contrib"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("auth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" User\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Model"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    title "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("150")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    body "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    timestamp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DateTimeField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    author "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ForeignKey"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("User"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__unicode__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body\n")])])]),n("p",[t._v("Теперь создадим наше первое представление. Оно призвано выводить список постов на одной странице. О том, как сделать постраничный вывод поговорим "),n("router-link",{attrs:{to:"/posts/django-pagination/"}},[t._v("в следующий раз")]),t._v(".")],1),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# djcode/pySite/news/views.py")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shortcuts "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" get_object_or_404"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" render_to_response\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("template "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" RequestContext\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Post\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("news")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("''' Show all news '''")]),t._v("\n    posts "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("order_by"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-timestamp'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render_to_response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news/news.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'posts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("posts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("Это простейшее представление, которое принимает все существующие посты и выводит их на определённой странице. Чуть ниже мы создадим эту страницу. Но сначала наполним сайт каким-нибудь содержимым. Административная панель уже подключена в нашем "),n("code",[t._v("INSTALLED_APPS")]),t._v(", осталось только зайти и проверить как отображаются созданные нами модели. Для отображения их в админке создадим ещё один файл (можно вписать это и в предыдущем файле "),n("code",[t._v("views")]),t._v(", но разделить их иногда удобнее):")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# djcode/pySite/news/admin.py")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contrib "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" admin\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Post\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PostAdmin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ModelAdmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    models "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Post\n    list_display "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'title'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'timestamp'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    list_filter "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'timestamp'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nadmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("site"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("register"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" PostAdmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("Раскомментируйте в "),n("code",[t._v("~/djcode/pySite/pySite/urls.py")]),t._v(" строки:")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# djcode/pySite/pySite/urls.py")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urls "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" patterns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" include"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" url\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contrib "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" admin\nadmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("autodiscover"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\nurlpatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" patterns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("r'^admin/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" include"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("site"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urls"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("После того, как вы зайдёте по адресу "),n("code",[t._v("127.0.0.1:8000/admin/")]),t._v(" и создадите несколько постов, вы должны увидеть нечто подобное:")]),t._v(" "),n("p",[n("img",{attrs:{src:a(105),alt:"админка django"}})]),t._v(" "),n("p",[t._v("Вернёмся к шаблонам. Вообще, создание страниц мы разделим на два этапа: создание базовой страницы и остальных страниц, которые будут просто наследовать содержимое базового шаблона. Это будет весьма кстати, если только вам не хочется писать каждую страницу с нуля.")]),t._v(" "),n("p",[t._v("Так будет выглядеть шаблон базовой страницы:")]),t._v(" "),n("div",{staticClass:"language-django extra-class"},[n("pre",{pre:!0,attrs:{class:"language-django"}},[n("code",[n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# djcode/pySite/templates/base.html #}")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("load")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("staticfiles")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- подгружаем статику --\x3e")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("load")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("i18n")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token doctype"}},[t._v("<!DOCTYPE HTML>")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("block")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("meta")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- подключаем наш css-файл, если он есть --\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text/css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"css/base.css"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("endblock")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("block")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("title")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("My Django Site"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("endblock")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("block")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("header")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("include")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"header.html"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- подключаем «шапку» сайта --\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("endblock")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("block")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("content")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("endblock")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- место для контента --\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("block")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("footer")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- подключаем «подвал» сайта --\x3e")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("include")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"footer.html"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("endblock")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("Теперь примемся за шаблон, который выведет все наши посты.")]),t._v(" "),n("div",{staticClass:"language-django extra-class"},[n("pre",{pre:!0,attrs:{class:"language-django"}},[n("code",[n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# djcode/pySite/templates/news/news.html #}")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'base.html'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- подключаем базовый шаблон --\x3e")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("block")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("title")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("News"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("endblock")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("block")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("content")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("post")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("posts")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- итерация по всем постам --\x3e")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dl")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dd")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("url")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news:one_new'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("id")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("title")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dd")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dl")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- дата публикации и автор --\x3e")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("timestamp")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("author")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),t._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- обрезаем посты, вывод по 80 слов --\x3e")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("body")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token filter function"}},[t._v("truncatewords")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token filter function"}},[t._v("safe")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),t._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ссылаемся на полный текст поста --\x3e")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("url")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news:one_new'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("id")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Читать полностью"),n("span",{pre:!0,attrs:{class:"token entity",title:"&raquo;"}},[t._v("&raquo;")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("endfor")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("endblock")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n")])])]),n("p",[t._v("Как уже, должно быть, заметил читатель, мы сразу включили ссылку на пока несуществующее представление: вывод отдельного поста целиком. Что требуется для его создания? Дальнейшие наши шаги сводятся к созданию ещё одной функции: на этот раз она будет выводить отдельную страницу, подготовки для неё своего шаблона и настройке файла "),n("code",[t._v("urls.py")]),t._v(". Приступим.")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# djcode/pySite/news/views.py")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# после функции news дописать")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("one_new")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" post_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("''' Show single news'''")]),t._v("\n    post "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_object_or_404"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pk"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("post_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("vars")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("dict")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        title"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        body"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        author"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("author"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        timestamp"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render_to_response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news/one_new.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("vars")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context_instance"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("RequestContext"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("Переменной post передаётся объект "),n("code",[t._v("Post")]),t._v(" с его ID либо вызывается исключение "),n("code",[t._v("404")]),t._v(": страница не найдена. Определяется то, что должно быть выведено: название, автор, время создания. Возвращается страница "),n("code",[t._v("one_new.html")]),t._v(", которой мы сейчас и займёмся.")]),t._v(" "),n("div",{staticClass:"language-django extra-class"},[n("pre",{pre:!0,attrs:{class:"language-django"}},[n("code",[n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# djcode/pySite/templates/news/one_new.html #}")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'base.html'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- отображать название поста как title страницы--\x3e")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("block")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("title")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("title")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("endblock")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("block")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("content")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n\nДата: "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("timestamp")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),t._v("\nАвтор: "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("author")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("title")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("body")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token filter function"}},[t._v("safe")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token filter function"}},[t._v("escape")]),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("endblock")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n")])])]),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("На заметку")]),t._v(" "),n("p",[n("code",[t._v("escape")]),t._v(" экранирует HTML-теги, если вы использовали их при написании статьи в админке")])]),t._v(" "),n("p",[t._v("Теперь напишем функцию и шаблон для главной страницы, с которой будем переходить на последние десять записей.\nПредставление и шаблон главной страницы:")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# djcode/pySite/pySite/views.py")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shortcuts "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" render_to_response\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("template "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" RequestContext\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" news"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("views "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Post\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# можно переписать как в news/views.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("home")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("vars")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("dict")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        posts"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("order_by"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-timestamp'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render_to_response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("vars")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context_instance"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("RequestContext"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("Шаблон для вывода последних десяти публикаций на главной:")]),t._v(" "),n("div",{staticClass:"language-django extra-class"},[n("pre",{pre:!0,attrs:{class:"language-django"}},[n("code",[n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# djcode/pySite/templates/index.html #}")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"base.html"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("block")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("title")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("Index Page"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("endblock")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("block")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("content")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("posts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("post")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("posts")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("url")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news:one_new'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("id")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                        "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("title")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("endfor")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token django language-django"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),n("span",{pre:!0,attrs:{class:"token tag keyword"}},[t._v("endblock")]),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n")])])]),n("p",[t._v("Наконец, создадим два (в примере мы ведь отделяем все приложения\nдруг от друга, чтобы их можно было подключать к другому проекту\nвнесением одной лишь строки в "),n("code",[t._v("INSTALLED_APPS")]),t._v(" и синхронизацией с БД)\nфайла "),n("code",[t._v("urls.py")]),t._v(": один главный, другой  — персонально для созданного приложения news.\nПри наличии пяти-десяти приложений это может быть удобным. Если приложение одно\nи со временем расширять функционал не требуется, создайте лишь один "),n("code",[t._v("urls.py")]),t._v(".")]),t._v(" "),n("p",[t._v("Импортируем необходимые модули, при входе на главную выводим представление,\nуказанное в "),n("code",[t._v("pySite.views.home")]),t._v(" функции, при входе на "),n("code",[t._v("http://127.0.0.1:8000/news")]),t._v("\nперенаправляем поиск в "),n("code",[t._v("news/urls.py")]),t._v(".")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# djcode/pySite/pySite/urls.py")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urls "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" patterns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" include"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" url\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contrib "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" admin\nadmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("autodiscover"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nurlpatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" patterns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("r'^$'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pySite.views.home'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'home'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("r'^news/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" include"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news.urls'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" namespace"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("r'^admin/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" include"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("site"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urls"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("В следующем файле обрабатываем наши представления:")]),t._v(" "),n("p",[t._v("если пользователь заходит на страницу вывода всех новостей, использовать\nфункцию "),n("code",[t._v("news.views.news")]),t._v("; если на конкретную новость — вывод выбранной\nновости из "),n("code",[t._v("news.views.one_new")]),t._v(":")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# djcode/pySite/news/urls.py")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urls "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" patterns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" include"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" url\n\nurlpatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" patterns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news.views'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("r'^$'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("r'^(?P<post_id>\\d+)/$'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one_new'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one_new'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("Дело сделано. Если всё прошло гладко, мы должны прийти примерно к подобному результату:")]),t._v(" "),n("p",[n("img",{attrs:{src:a(106),alt:"django"}})]),t._v(" "),n("p",[t._v("Успехов в изучении этого отличного фреймворка!")])])},[],!1,null,null,null);s.default=e.exports}}]);